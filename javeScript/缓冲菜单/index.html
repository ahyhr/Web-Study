<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			.box{width: 100px;height: 100px;
			background-color: aquamarine;
			position: absolute;
			top: 0;
			left: 0;}
			.x{width: 100%;
			border-top: 1px black solid;
			position: fixed;
			top: 50%;}
		</style>
		<script type="text/javascript">
			window.onload = function(){
				var box = document.querySelector(".box");
				var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
				var bodyheight = document.documentElement.clientHeight || document.body.clientHeight;
				var dis = parseInt(scrolltop + (bodyheight - box.offsetHeight) / 2);
				var timer = null;
				startMove(dis);
				
				//滚轮滑动
				window.onscroll = function(){
					var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
					var bodyheight = document.documentElement.clientHeight || document.body.clientHeight;
					var dis = parseInt(scrolltop + (bodyheight - box.offsetHeight) / 2);
					startMove(dis);
				};
				
				//浏览器网页缩放
				window.onresize = function(){
					var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
					var bodyheight = document.documentElement.clientHeight || document.body.clientHeight;
					var dis = parseInt(scrolltop + (bodyheight - box.offsetHeight) / 2);
					startMove(dis);
				};
				
				function startMove(dis){
					clearInterval(timer);
					timer = setInterval(function(){
						var speed = (dis - box.offsetTop) / 8;
						speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
						if(box.offsetTop == dis){
							clearInterval(timer);
						}else{
							box.style.top = box.offsetTop + speed + "px";
						}
					},30);
				};
			};
		</script>
	</head>
	<body style="height: 3000px;">
		<div class="box">
			
		</div>
		<div class="x">
			
		</div>
	</body>
</html>
